@using YouCan.ViewModels.Account;
@model EditViewModel

@{
    ViewBag.Title = "title";
    Layout = "_NavBar";
}
<link rel="stylesheet" href="~/css/profile.css" asp-append-version="true" />

<div class="container">
    <h1 class="text-center profile-title">Профиль</h1>
    <hr>
    <a asp-action="Profile" class="btn">
        <img src="@Url.Content("~/profileIcons/arrow-back.svg")" />
    </a>
    <div class="profile-container mx-auto">

        <div class="d-flex flex-row justify-content-between mx-2 mb-5">
            <div class="">
                <p class="profile-text-primary">@ViewBag.User.FullName</p>
                <p class="profile-text-secondary">@ViewBag.User.PhoneNumber</p>
                <div class="d-flex flex-row align-items-center">
                    <img class="clock-img d-block" src="@Url.Content($"~/profileIcons/oclock.png")"></img>
                    <p class="profile-text-secondary ms-1">Регистрация -</p>
                </div>
            </div>
            <div class="">
                <img class="profile-img" src="@Url.Content($"~{ViewBag.User.AvatarUrl}")" alt="avatar">
            </div>
        </div>
    </div>

    <form class="mx-3" asp-action="Edit" asp-controller="Account" enctype="multipart/form-data">
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">Аккаунт</label>
            <button class="col-auto btn btn-save">Сохранить изменения</button>
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">Фото профиля</label>
            <label asp-for="UploadedFile" class="col-auto btn btn-load">Выбрать файл</label>
            <input asp-for="UploadedFile" class="d-none"/>
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <p class="col-3 col-sm-2 col-lg-1 text-end p-0"></p>
            <p id="input-file-text" class="p-0 fs-8 form-width">Максимальный размер изображения — 1 Мб</p>
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">ФИО</label>
            <input asp-for="FullName" class="col-auto form-control-theme" />
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">Номер телефона</label>
            <input asp-for="PhoneNumber" type="number" class="col-auto form-control-theme" />
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">Регион</label>
            <input asp-for="District" class="col-auto form-control-theme" />
        </div>
        <div class="row mb-3 gap-3 justify-content-center align-items-center">
            <label class="col-3 col-sm-2 col-lg-1 text-end p-0 fw-semibold">Дата рождения</label>
            <input asp-for="BirthDate" type="date" class="col-auto form-control-theme" />
        </div>
    </form>
    <form class="d-flex justify-content-center" asp-action="LogOut" asp-controller="Account">
        <button type="submit" class="border-0 bg-transparent p-0 text-center d-block fw-bold text-decoration-none link-theme-secondary">Выйти</button>
    </form>
    <a asp-action="Delete" asp-controller="Account" class="text-center d-block fw-bold text-decoration-none link-theme-danger">
        Удалить аккаунт
    </a>
</div>

@section Scripts{
    <script>
        $('input[type=file]').on('change', function () {
            console.log("ABOBA");
            let file = this.files[0];
            $('#input-file-text').html(file.name);
        });
    </script>
}